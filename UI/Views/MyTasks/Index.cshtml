@using UI.Classes
@model List<ServiceReference.K2TaskItem>
@{
    List<DTO.Complaint> complaints = ViewBag.AllComplaints;
}
<style>
    .header {
        background-color: #293846;
        color: #fff;
        padding: 20px 0;
        text-align: center;
    }

        .header h2 {
            margin: 0;
            font-size: 36px;
        }
</style>
<div class="container">

   <div class="header">
    <h2 style="">مهامي</h2>
    </div>

   <table class="table table-striped table-bordered table-hover dataTables-example">

    <thead>
        <tr>
            <th style="text-align:center">الرقم</th>
            <th style="text-align:center">رقم الشكوى</th>
            <th style="text-align:center">حالة الشكوى</th>
           
            @*<th style="text-align:center">@Html.DisplayNameFor(mode =>mode.IsRTL)</th>*@
            <th style="text-align:center" class="col-sm-4 col-sm-offset-1 col-md-6 col-md-offset-1 col-lg-2 col-lg-offset-1"> <span>التفاصيل</span></th>
        </tr>
    </thead>
    <tbody>
        @{
            var x = 1;
        }
        @foreach (var complaint in complaints)
        {
            var task = Model.FirstOrDefault(e => e.Folio == (complaint.Id).ToString());
            <tr id="tr_@complaint.Id" class="gradeX">
                <td style="text-align:center">@x</td>
            @if(complaint.ComplaintNo != null){
                <td style="text-align:center">
                    @complaint.ComplaintNo
                    </td>
                }
                else
                {
                    <td style="text-align:center">
                        الشكوى لا تملك رقم بعد
                    </td>
                }
                @if (task != null)
                {
                    <td style="text-align:center">
                        @Model.FirstOrDefault(e => e.Folio == (complaint.Id).ToString()).TaskStatus
                    </td>
                }
                else
                {
                    <td style="text-align:center"></td>
                }
                <td style="text-align:center" class="col-sm-4 col-sm-offset-1 col-md-6 col-md-offset-1 col-lg-2 col-lg-offset-1">
                    <div class="row">
                        <div class=" col-sm-offset-3 col-md-offset-3 col-lg-offset-2 col-sm-1 col-md-1 col-lg-1">
                        </div>
                      
                        <div class="col-sm-2 col-md-2 col-lg-2">

                                <a style="text-decoration:underline" href="@Url.Action("MainPage","SubscriperComplaint",new{ Id =complaint.Id })">استعراض</a>
                            @*<div class="btn-group">
                                <button data-toggle="dropdown" class="btn btn-default btn-sm dropdown-toggle"> <i class="fa fa-ellipsis-v"></i></button>
                                <ul class="dropdown-menu right">

                                    <li><a class="dropdown-item" href="@Url.Action("Details","Mytasks",new{ Id =complaint.Id , stepId = 3 })">استكمال اجراء الشكوى</a></li>
                                    <li><a class="dropdown-item" href="@Url.Action("MainPage","SubscriperComplaint",new{ Id =complaint.Id })">مراجعة الشكوى</a></li>
                                    <li><a class="dropdown-item" href="@Url.Action("index","TechnicalReport",new{ Id =complaint.Id })">التقرير الفني</a></li>
                                </ul>*@
                          
                        </div>
                    </div>
                </td>
            </tr>




            x = x + 1;

        }
        
    </tbody>

</table>
<div class="form-group">
    <div class="row">
    </div>
</div>
<div class="form-group">
    <div class="row">
    </div>
</div>
</div>